LOCK TABLES `level_highscores` WRITE;
ALTER TABLE `level_highscores` CHANGE COLUMN `last_changed` `last_changed` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `best_time`;
ALTER TABLE `level_highscores` ADD COLUMN `shortid` SMALLINT NOT NULL AFTER `levelid`;
UPDATE level_highscores SET shortid = 101 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000001}';
UPDATE level_highscores SET shortid = 102 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000002}';
UPDATE level_highscores SET shortid = 103 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000003}';
UPDATE level_highscores SET shortid = 104 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000004}';
UPDATE level_highscores SET shortid = 105 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000005}';
UPDATE level_highscores SET shortid = 106 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000006}';
UPDATE level_highscores SET shortid = 107 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000007}';
UPDATE level_highscores SET shortid = 108 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000008}';
UPDATE level_highscores SET shortid = 109 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000009}';
UPDATE level_highscores SET shortid = 110 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000010}';
UPDATE level_highscores SET shortid = 111 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000011}';
UPDATE level_highscores SET shortid = 112 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000012}';
UPDATE level_highscores SET shortid = 113 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000013}';
UPDATE level_highscores SET shortid = 114 WHERE levelid = '{b16b00b5-0001-4000-0000-000001000014}';
UPDATE level_highscores SET shortid = 201 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000001}';
UPDATE level_highscores SET shortid = 202 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000002}';
UPDATE level_highscores SET shortid = 203 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000003}';
UPDATE level_highscores SET shortid = 204 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000004}';
UPDATE level_highscores SET shortid = 205 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000005}';
UPDATE level_highscores SET shortid = 206 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000006}';
UPDATE level_highscores SET shortid = 207 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000007}';
UPDATE level_highscores SET shortid = 208 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000008}';
UPDATE level_highscores SET shortid = 209 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000009}';
UPDATE level_highscores SET shortid = 210 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000010}';
UPDATE level_highscores SET shortid = 211 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000011}';
UPDATE level_highscores SET shortid = 212 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000012}';
UPDATE level_highscores SET shortid = 213 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000013}';
UPDATE level_highscores SET shortid = 214 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000014}';
UPDATE level_highscores SET shortid = 215 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000015}';
UPDATE level_highscores SET shortid = 216 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000016}';
UPDATE level_highscores SET shortid = 217 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000017}';
UPDATE level_highscores SET shortid = 218 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000018}';
UPDATE level_highscores SET shortid = 219 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000019}';
UPDATE level_highscores SET shortid = 220 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000020}';
UPDATE level_highscores SET shortid = 221 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000021}';
UPDATE level_highscores SET shortid = 222 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000022}';
UPDATE level_highscores SET shortid = 223 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000023}';
UPDATE level_highscores SET shortid = 224 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000024}';
UPDATE level_highscores SET shortid = 225 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000025}';
UPDATE level_highscores SET shortid = 226 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000026}';
UPDATE level_highscores SET shortid = 227 WHERE levelid = '{b16b00b5-0001-4000-0000-000002000027}';
UPDATE level_highscores SET shortid = 301 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000001}';
UPDATE level_highscores SET shortid = 302 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000002}';
UPDATE level_highscores SET shortid = 303 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000003}';
UPDATE level_highscores SET shortid = 304 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000004}';
UPDATE level_highscores SET shortid = 305 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000005}';
UPDATE level_highscores SET shortid = 306 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000006}';
UPDATE level_highscores SET shortid = 307 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000007}';
UPDATE level_highscores SET shortid = 308 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000008}';
UPDATE level_highscores SET shortid = 309 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000009}';
UPDATE level_highscores SET shortid = 310 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000010}';
UPDATE level_highscores SET shortid = 311 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000011}';
UPDATE level_highscores SET shortid = 312 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000012}';
UPDATE level_highscores SET shortid = 313 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000013}';
UPDATE level_highscores SET shortid = 314 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000014}';
UPDATE level_highscores SET shortid = 315 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000015}';
UPDATE level_highscores SET shortid = 316 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000016}';
UPDATE level_highscores SET shortid = 317 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000017}';
UPDATE level_highscores SET shortid = 318 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000018}';
UPDATE level_highscores SET shortid = 319 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000019}';
UPDATE level_highscores SET shortid = 320 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000020}';
UPDATE level_highscores SET shortid = 321 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000021}';
UPDATE level_highscores SET shortid = 322 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000022}';
UPDATE level_highscores SET shortid = 323 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000023}';
UPDATE level_highscores SET shortid = 324 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000024}';
UPDATE level_highscores SET shortid = 325 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000025}';
UPDATE level_highscores SET shortid = 326 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000026}';
UPDATE level_highscores SET shortid = 327 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000027}';
UPDATE level_highscores SET shortid = 328 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000028}';
UPDATE level_highscores SET shortid = 329 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000029}';
UPDATE level_highscores SET shortid = 330 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000030}';
UPDATE level_highscores SET shortid = 331 WHERE levelid = '{b16b00b5-0001-4000-0000-000003000031}';
UPDATE level_highscores SET shortid = 401 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000001}';
UPDATE level_highscores SET shortid = 402 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000002}';
UPDATE level_highscores SET shortid = 403 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000003}';
UPDATE level_highscores SET shortid = 404 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000004}';
UPDATE level_highscores SET shortid = 405 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000005}';
UPDATE level_highscores SET shortid = 406 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000006}';
UPDATE level_highscores SET shortid = 407 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000007}';
UPDATE level_highscores SET shortid = 408 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000008}';
UPDATE level_highscores SET shortid = 409 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000009}';
UPDATE level_highscores SET shortid = 410 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000010}';
UPDATE level_highscores SET shortid = 411 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000011}';
UPDATE level_highscores SET shortid = 412 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000012}';
UPDATE level_highscores SET shortid = 413 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000013}';
UPDATE level_highscores SET shortid = 414 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000014}';
UPDATE level_highscores SET shortid = 415 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000015}';
UPDATE level_highscores SET shortid = 416 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000016}';
UPDATE level_highscores SET shortid = 417 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000017}';
UPDATE level_highscores SET shortid = 418 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000018}';
UPDATE level_highscores SET shortid = 419 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000019}';
UPDATE level_highscores SET shortid = 420 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000020}';
UPDATE level_highscores SET shortid = 421 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000021}';
UPDATE level_highscores SET shortid = 422 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000022}';
UPDATE level_highscores SET shortid = 423 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000023}';
UPDATE level_highscores SET shortid = 424 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000024}';
UPDATE level_highscores SET shortid = 425 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000025}';
UPDATE level_highscores SET shortid = 426 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000026}';
UPDATE level_highscores SET shortid = 427 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000027}';
UPDATE level_highscores SET shortid = 428 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000028}';
UPDATE level_highscores SET shortid = 429 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000029}';
UPDATE level_highscores SET shortid = 430 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000030}';
UPDATE level_highscores SET shortid = 431 WHERE levelid = '{b16b00b5-0001-4000-0000-000004000031}';
UPDATE level_highscores SET shortid = 11  WHERE levelid = '{b16b00b5-0001-4000-9999-000000000002}';
ALTER TABLE `level_highscores` DROP PRIMARY KEY, ADD PRIMARY KEY (`userid`, `shortid`, `difficulty`);
ALTER TABLE `level_highscores` DROP INDEX `specific_level`, ADD INDEX `specific_level` (`shortid`, `difficulty`);
ALTER TABLE `level_highscores` DROP COLUMN `levelid`;
ALTER TABLE `level_highscores` CHANGE COLUMN `last_changed` `last_changed` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP AFTER `best_time`;
UNLOCK TABLES;